(function(){var e={6700:function(e,t,s){var o={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":1400,"./gu.js":1400,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function i(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=6700},6850:function(e,t,s){"use strict";var o=s(9242),i=s(3396);function a(e,t,s,o,a,n){const r=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(r)}var n={created(){window.addEventListener("beforeunload",(()=>{localStorage.setItem("store",JSON.stringify(this.$store.state))})),localStorage.getItem("store")&&this.$store.replaceState(Object.assign(this.$store.state,JSON.parse(localStorage.getItem("store"))))}},r=s(89);const l=(0,r.Z)(n,[["render",a]]);var c=l,d=s(2483);function m(e,t,s,o,a,n){const r=(0,i.up)("NavBar"),l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r),(0,i.Wm)(l)])}var u=s(7139);const v=e=>((0,i.dD)("data-v-00d67e9f"),e=e(),(0,i.Cn)(),e),g={class:"navbar navbar-expand-lg navbar-dark bg-dark"},h={class:"container-fluid"},p={class:"row mx-0"},w={class:"row align-items-center mx-1"},f={class:"col-auto text-white text-decoration-none text-300 text-bold"},b=v((()=>(0,i._)("span",{class:"material-symbols-outlined",style:{color:"white",cursor:"pointer"}},"favorite",-1)));function y(e,t,s,o,a,n){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("nav",g,[(0,i._)("div",h,[(0,i._)("span",p,[(0,i.Wm)(r,{to:{name:"moviesBoard"},class:"col-auto mt-2 navbar-brand text-light"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Movie APP ")])),_:1})]),(0,i._)("div",w,[(0,i._)("a",f,(0,u.zw)(n.getGreeting()),1),(0,i._)("span",{onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e)),"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"logout",class:"col-auto material-symbols-outlined",style:{color:"white",cursor:"pointer"}},"logout "),(0,i.Wm)(r,{to:{name:"favoriteMovies"},class:"col-auto mt-2"},{default:(0,i.w5)((()=>[b])),_:1})])])])}var j=s(6797),_=s.n(j),k=s(3495),M=s.n(k),x={name:"NavBar",components:{},data(){return{account:this.$store.state.account.substring(0,this.$store.state.account.indexOf("@"))}},mounted(){},methods:{logout(){this.$store.commit("setAccount",""),M()("Log out successfully","","success").then((()=>{this.$router.push({name:"login"})}))},getGreeting(){let e="";return e=_()().format("hA").includes("AM")?"Good Morning":"Good Evening",`${e}, ${this.account}`}}};const D=(0,r.Z)(x,[["render",y],["__scopeId","data-v-00d67e9f"]]);var I=D,S={name:"MainPageView",components:{NavBar:I},data(){return{}},mounted(){},methods:{}};const P=(0,r.Z)(S,[["render",m]]);var z=P;const F=e=>((0,i.dD)("data-v-c75d60a2"),e=e(),(0,i.Cn)(),e),$={class:"container my-5"},A={class:"mt-5"},O=F((()=>(0,i._)("h3",{class:"mt-5 text-dark fw-bolder"},"- My Favorite Movies -",-1))),C={key:0,class:"spinner-border mt-5",role:"status"},U=F((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),B=[U],L={key:1},V={key:0},N=F((()=>(0,i._)("span",{class:"material-symbols-outlined mt-5",style:{color:"red"}},"error",-1))),q=F((()=>(0,i._)("h5",{class:"mt-3"},"Oh, You don't have favorite movies ... ",-1))),H=F((()=>(0,i._)("h5",{class:"mt-2"},"try to get some interesting movies?",-1))),Z=[N,q,H],Y={key:1,class:"d-flex flex-wrap justify-content-center rounded mt-3"},E=["onClick"],W={class:"profile-img"},T=["src"],K={class:"card-body"},R={class:"card-title"};function G(e,t,s,o,a,n){const r=(0,i.up)("NavBar");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r),(0,i._)("div",$,[(0,i._)("div",A,[O,a.isLoaded?((0,i.wg)(),(0,i.iD)("div",L,[0===n.accountFavoriteMovies.length?((0,i.wg)(),(0,i.iD)("div",V,Z)):((0,i.wg)(),(0,i.iD)("div",Y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.accountFavoriteMovies,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"card m-3",style:{width:"18rem",height:"460px"}},[(0,i._)("button",{class:"more-info-btn btn btn-light",onClick:e=>n.openMovieDetailPage(t)},"詳細資訊",8,E),(0,i._)("div",W,[(0,i._)("img",{src:e.$store.state.baseImgPath+t.img,alt:"Movie pic",class:"card-img-top img-fluid",style:{height:"380px","object-fit":"fill"}},null,8,T)]),(0,i._)("div",K,[(0,i._)("h5",R,(0,u.zw)(t.title.substring(0,48)),1)])])))),128))]))])):((0,i.wg)(),(0,i.iD)("div",C,B))])])])}var J=s(4275);s(2702),s(4059);const Q={apiKey:"AIzaSyCuD8l0Yxc7BbBwIosH2tNKhH0W1dEFY-g",authDomain:"prevent-crime-app.firebaseapp.com",projectId:"prevent-crime-app",storageBucket:"prevent-crime-app.appspot.com",messagingSenderId:"186924942933",appId:"1:186924942933:web:e3c08ea42f0c7030a036dc",measurementId:"G-Q5HPKJEB9P"};J.Z.initializeApp(Q);const X=J.Z.firestore(),ee=J.Z["default"].auth();var te={name:"FavoriteMoviesView",components:{NavBar:I},data(){return{isLoaded:!1}},computed:{accountFavoriteMovies(){return this.$store.state.accountFavoriteMovies}},mounted(){this.getFavoriteMovies()},methods:{async getFavoriteMovies(){await this.$store.dispatch("getFavoriteMovies"),this.isLoaded=!0},openMovieDetailPage(e){const t={movieId:e.id};localStorage.setItem("selectedMovieInfo",JSON.stringify(t)),this.$router.push({name:"movieDetail"})}}};const se=(0,r.Z)(te,[["render",G],["__scopeId","data-v-c75d60a2"]]);var oe=se,ie=s.p+"img/cinema.6002d8ad.jpg";const ae=e=>((0,i.dD)("data-v-d7c731b2"),e=e(),(0,i.Cn)(),e),ne={class:"home"},re=ae((()=>(0,i._)("img",{src:ie,class:"bg"},null,-1))),le={class:"h-100"},ce={class:"container h-100"},de={class:"row justify-content-sm-center h-100"},me={class:"col-xl-5 col-lg-5 col-md-7 col-sm-9"},ue=ae((()=>(0,i._)("div",{class:"text-center my-5"},[(0,i._)("h1",{class:"fs-3 border-radius py-3 text-white"},"Movie App")],-1))),ve={class:"card shadow-lg my-5"},ge={class:"card-body p-5"},he={class:"fs-4 card-title fw-bold mb-4"},pe={class:"mb-3"},we={class:"mb-3"},fe={class:"d-flex align-items-center justify-content-center"},be={class:"card-footer py-3 border-0"},ye={class:"text-center"},je={key:0},_e={key:1};function ke(e,t,s,a,n,r){return(0,i.wg)(),(0,i.iD)("div",ne,[re,(0,i._)("section",le,[(0,i._)("div",ce,[(0,i._)("div",de,[(0,i._)("div",me,[ue,(0,i._)("div",ve,[(0,i._)("div",ge,[(0,i._)("h1",he,(0,u.zw)(n.displayView),1),(0,i._)("div",pe,[(0,i.wy)((0,i._)("input",{id:"account",type:"account",class:"form-control",name:"account","onUpdate:modelValue":t[0]||(t[0]=e=>n.account=e),placeholder:"請輸入帳號",required:"",autofocus:""},null,512),[[o.nr,n.account]])]),(0,i._)("div",we,[(0,i.wy)((0,i._)("input",{id:"password",type:"password",class:"form-control",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"請輸入密碼",required:""},null,512),[[o.nr,n.password]])]),(0,i._)("div",fe,[(0,i._)("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=e=>r.submitForm())},(0,u.zw)(n.displayView),1)])]),(0,i._)("div",be,[(0,i._)("div",ye,["登入"===n.displayView?((0,i.wg)(),(0,i.iD)("span",je,[(0,i.Uk)(" 還沒有帳號嗎？"),(0,i._)("button",{onClick:t[3]||(t[3]=e=>n.displayView="註冊"),class:"text-dark btn"},"點我註冊")])):(0,i.kq)("",!0),"註冊"===n.displayView?((0,i.wg)(),(0,i.iD)("span",_e,[(0,i.Uk)(" 已經有帳號了嗎？"),(0,i._)("button",{onClick:t[4]||(t[4]=e=>n.displayView="登入"),class:"text-dark btn"},"點我登入")])):(0,i.kq)("",!0)])])])])])])])])}var Me={name:"LoginVue",components:{},data(){return{displayView:"登入",account:"",password:""}},mounted(){},methods:{async submitForm(){""!==this.account&&""!==this.password?"註冊"===this.displayView?ee.createUserWithEmailAndPassword(this.account,this.password).then((e=>{this.signInProcess()})).catch((e=>{M()(e.message,"error")})):ee.signInWithEmailAndPassword(this.account,this.password).then((e=>{this.signInProcess()})).catch((e=>{console.log(e.message),M()("Oops!","ID or Password is incorrect","error")})):M()("Oops!","ID or Password can't be empty","error")},signInProcess(){this.$store.commit("setAccount",this.account),M()("Sign in successfully","","success").then((()=>{this.$router.push({name:"moviesBoard"})}))}}};const xe=(0,r.Z)(Me,[["render",ke],["__scopeId","data-v-d7c731b2"]]);var De=xe;const Ie={class:"bg-dark py-5"},Se={class:"container px-5"},Pe={class:"row gx-5 align-items-center justify-content-center"},ze={class:"col-lg-8 col-xl-7 col-xxl-6"},Fe={class:"my-5 text-center text-xl-start"},$e={class:"display-5 fw-bolder text-white mb-2"},Ae={key:0},Oe={key:0,class:"lead fw-normal text-white-50 mb-4"},Ce=(0,i._)("br",null,null,-1),Ue={class:"badge rounded-pill bg-info text-dark my-2 mx-1"},Be=(0,i._)("br",null,null,-1),Le={class:"lead fw-normal text-white-50 mb-4"},Ve=(0,i._)("br",null,null,-1),Ne={key:1,class:"lead fw-normal text-white-50 mb-4"},qe=(0,i._)("br",null,null,-1),He={key:2,class:"lead fw-normal text-white-50 mb-4"},Ze={class:"d-grid gap-3 d-sm-flex justify-content-sm-center justify-content-xl-start mt-3"},Ye=["href"],Ee=(0,i._)("span",{class:"material-symbols-outlined pt-1 mx-1"},"youtube_activity",-1),We=["href"],Te={key:0,class:"col-xl-5 col-xxl-6 d-none d-xl-block text-center"},Ke=["src"],Re={class:"pt-5 bg-light"},Ge={class:"container px-5 py-5 my-5"},Je={class:"row gx-5 align-items-center"},Qe={class:"col-xxl-6 col-md-12 mb-5"},Xe=["src"],et={class:"col-xxl-6 col-md-12"},tt=(0,i._)("h2",{class:"fw-bolder"},"Movie Overview:",-1),st={class:"lead fw-normal text-muted mb-0"},ot={class:"card py-5"},it={class:"card-body"},at={class:"container"},nt={class:"text-center"},rt=(0,i._)("h2",{class:"fw-bolder"},"Similar Movies",-1),lt={class:"lead fw-normal text-muted mb-5"},ct={class:"fw-bolder"},dt={key:0,class:"row gx-5 row-cols-1 row-cols-sm-2 row-cols-xl-4 justify-content-center"},mt={class:"text-center"},ut=["src"],vt={class:"fw-bolder"},gt={class:"fst-italic text-muted"},ht={key:1},pt=(0,i._)("span",{class:"material-symbols-outlined"},"error",-1),wt=(0,i._)("p",{class:"fw-thin"},"Sorry, there are no similar movies can be suggested.",-1),ft=[pt,wt],bt=(0,i._)("div",null,null,-1);function yt(e,t,s,a,n,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",Ie,[(0,i._)("div",Se,[(0,i._)("div",Pe,[(0,i._)("div",ze,[(0,i._)("div",Fe,[(0,i._)("h1",$e,[(0,i.Uk)((0,u.zw)(n.movieDetail.original_title)+" ",1),n.isLoaded?((0,i.wg)(),(0,i.iD)("span",Ae,[n.isFavorite?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"material-symbols-outlined",style:{color:"red",cursor:"pointer"},onClick:t[1]||(t[1]=e=>r.removeFavorite(n.movieDetail))},"heart_check")):((0,i.wg)(),(0,i.iD)("span",{key:0,class:"material-symbols-outlined",style:{color:"red",cursor:"pointer"},onClick:t[0]||(t[0]=e=>r.addFavorite(n.movieDetail))},"favorite"))])):(0,i.kq)("",!0)]),n.movieDetail.release_date&&!r.getCountDown().includes("ago")?((0,i.wg)(),(0,i.iD)("span",Oe,[(0,i.Uk)("( will realse "+(0,u.zw)(r.getCountDown())+" ) ",1),Ce])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.movieDetail.genres,(e=>((0,i.wg)(),(0,i.iD)("span",Ue,(0,u.zw)(e.name),1)))),256)),Be,(0,i._)("span",Le,[(0,i.Uk)("Release Date: "+(0,u.zw)(n.movieDetail.release_date),1),Ve]),0!==n.movieDetail.runtime?((0,i.wg)(),(0,i.iD)("span",Ne,[(0,i.Uk)("Length: "+(0,u.zw)(n.movieDetail.runtime)+" mins ",1),qe])):(0,i.kq)("",!0),0!==n.movieDetail.vote_average?((0,i.wg)(),(0,i.iD)("span",He,"Score: "+(0,u.zw)(n.movieDetail.vote_average)+" (Vote Count: "+(0,u.zw)(n.movieDetail.vote_count)+")",1)):(0,i.kq)("",!0),(0,i._)("div",Ze,[(0,i._)("a",{class:"btn btn-primary btn-lg px-4 me-sm-3 d-flex justify-content-center",href:n.movieDetail.homepage,target:"_blank"},[(0,i.Uk)("Youtube "),Ee],8,Ye),(0,i._)("a",{class:"btn btn-outline-light btn-lg px-4",href:n.movieDetail.homepage,target:"_blank"},"Movie Homepage",8,We)])])]),n.movieDetail.backdrop_path?((0,i.wg)(),(0,i.iD)("div",Te,[(0,i._)("img",{class:"img-fluid rounded-3 my-5",src:e.$store.state.baseImgPath+n.movieDetail.backdrop_path,alt:"movie image"},null,8,Ke)])):(0,i.kq)("",!0)])])]),(0,i._)("section",Re,[(0,i._)("div",Ge,[(0,i._)("div",Je,[(0,i._)("div",Qe,[n.youtubeHref?((0,i.wg)(),(0,i.iD)("iframe",{key:0,width:"560",height:"315",style:{"max-width":"100%"},src:`https://www.youtube.com/embed/${n.youtubeHref}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,Xe)):(0,i.kq)("",!0)]),(0,i._)("div",et,[tt,(0,i._)("p",st,(0,u.zw)(n.movieDetail.overview),1)])])]),(0,i._)("div",ot,[(0,i._)("div",it,[(0,i._)("div",at,[(0,i._)("div",nt,[rt,(0,i._)("p",lt,[(0,i.Uk)("Cause you like 「 "),(0,i._)("span",ct,(0,u.zw)(n.movieDetail.original_title),1),(0,i.Uk)(" 」, we suggest some similar movies for you! ")])]),n.similarMovies.length>0?((0,i.wg)(),(0,i.iD)("div",dt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.similarMovies,((t,s)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"col mb-5 mb-5 mb-xl-0",key:s},[(0,i._)("div",mt,[(0,i._)("img",{class:"img-fluid rounded-circle mb-4 px-4",style:{width:"200px",height:"150px"},src:e.$store.state.baseImgPath+t.poster_path,alt:"..."},null,8,ut),(0,i._)("h5",vt,(0,u.zw)(t.title),1),(0,i._)("div",gt,(0,u.zw)(t.overview.substring(0,100))+"...",1)])])),[[o.F8,s<4]]))),128))])):((0,i.wg)(),(0,i.iD)("div",ht,ft))])]),bt])])],64)}var jt={name:"MovieDetailView",components:{},data(){return{movieID:{},movieDetail:{},similarMovies:[],youtubeHref:"",isFavorite:!1,isLoaded:!1}},computed:{accountFavoriteMovies(){return this.$store.state.accountFavoriteMovies}},mounted(){this.movieID=JSON.parse(localStorage.getItem("selectedMovieInfo")).movieId,this.getMovieDetail(),this.getSimilarMovies(),this.getMovieVideos()},methods:{async getMovieDetail(){this.movieDetail=await this.$store.dispatch("getAPI",{endPointURL:`/movie/${this.movieID}`}),await this.$store.dispatch("getFavoriteMovies"),this.isFavorite=this.accountFavoriteMovies.some((e=>e.id===this.movieDetail.id)),this.isLoaded=!0},async getSimilarMovies(){const e=await this.$store.dispatch("getAPI",{endPointURL:`/movie/${this.movieID}/similar`});this.similarMovies=e.filter((e=>e.poster_path&&e.overview))},async getMovieVideos(){const e=await this.$store.dispatch("getAPI",{endPointURL:`/movie/${this.movieID}/videos`});e.length>0&&(this.youtubeHref=e[0].key)},getCountDown(){const e=this.movieDetail.release_date.replace(/-/g,"");return _()(e).fromNow()},addFavorite({id:e,title:t,poster_path:s}){const o=this.accountFavoriteMovies;o.push({id:e,title:t,img:s}),this.firebaseAddMethod(o,"add")},removeFavorite({id:e}){const t=this.accountFavoriteMovies.filter((t=>t.id!==e));this.firebaseAddMethod(t,"remove")},async firebaseAddMethod(e,t){const s=X.collection("FavoriteMovies");this.isFavorite="add"===t,M()(`${t} successfully !`,"","success"),await s.doc(this.$store.state.account).set({movies:e}),await this.$store.dispatch("getFavoriteMovies")}}};const _t=(0,r.Z)(jt,[["render",yt]]);var kt=_t;const Mt={class:"pt-3 bg-light"},xt={class:"container px-5 my-5"},Dt={class:"row gx-5 align-items-center"},It={key:0,class:"col-xxl-6 col-md-12 mb-5"},St=["src"],Pt={key:1,class:"col-xxl-6 col-md-12"},zt=(0,i._)("h2",{class:"fw-bolder"},"The Most Popular!",-1),Ft={class:"fw-bolder text-muted mb-0"};function $t(e,t,s,o,a,n){const r=(0,i.up)("MovieCardsCarolsel");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r,{nowShowingMovies:a.nowShowingMovies,type:"現正熱映"},null,8,["nowShowingMovies"]),(0,i.Wm)(r,{nowShowingMovies:a.comingSoonMovies,type:"即將上映"},null,8,["nowShowingMovies"]),(0,i._)("section",Mt,[(0,i._)("div",xt,[(0,i._)("div",Dt,[a.nowShowingMovies.length>0?((0,i.wg)(),(0,i.iD)("div",It,[(0,i._)("img",{class:"rounded",src:e.$store.state.baseImgPath+a.nowShowingMovies[0].backdrop_path,style:{"max-width":"100%"},alt:"The Most Popular IMG"},null,8,St)])):(0,i.kq)("",!0),a.nowShowingMovies.length>0?((0,i.wg)(),(0,i.iD)("div",Pt,[zt,(0,i._)("h3",Ft,(0,u.zw)(a.nowShowingMovies[0].original_title),1)])):(0,i.kq)("",!0)])])])],64)}const At={class:"container my-5"},Ot={class:"mt-5"},Ct={class:"mt-5 text-dark fw-bolder"},Ut={class:"row justify-content-center bg-dark bg-opacity-50 rounded"},Bt={class:"card",style:{width:"18rem",height:"430px"}},Lt=["onClick"],Vt={class:"profile-img"},Nt=["src"],qt={class:"card-body"},Ht={class:"card-title"};function Zt(e,t,s,o,a,n){const r=(0,i.up)("flickity");return(0,i.wg)(),(0,i.iD)("div",At,[(0,i._)("div",Ot,[(0,i._)("h3",Ct,"- "+(0,u.zw)(s.type)+" -",1),(0,i._)("div",Ut,[s.nowShowingMovies.length>0?((0,i.wg)(),(0,i.j4)(r,{key:0,ref:"flickity",options:a.flickityOptions},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.nowShowingMovies,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"carousel-cell m-3 bg-white",key:s},[(0,i._)("div",Bt,[(0,i._)("button",{class:"more-info-btn btn btn-light",onClick:e=>n.openMovieDetailPage(t)},"詳細資訊",8,Lt),(0,i._)("div",Vt,[(0,i._)("img",{src:e.$store.state.baseImgPath+t.poster_path,alt:"Movie pic",class:"card-img-top img-fluid",style:{height:"380px","object-fit":"fill"}},null,8,Nt)]),(0,i._)("div",qt,[(0,i._)("h5",Ht,(0,u.zw)(t.original_title.substring(0,20)),1)])])])))),128))])),_:1},8,["options"])):(0,i.kq)("",!0)])])])}var Yt=s(4777),Et={name:"MovieCardsCarolsel",components:{Flickity:Yt.Z},data(){return{flickityOptions:{initialIndex:1,prevNextButtons:!0,pageDots:!1,wrapAround:!1,cellAlign:"left"}}},props:{nowShowingMovies:{type:Array,default:()=>[]},type:{type:String,default:""}},mounted(){},methods:{openMovieDetailPage(e){const t={movieId:e.id};localStorage.setItem("selectedMovieInfo",JSON.stringify(t)),this.$router.push({name:"movieDetail"})}}};const Wt=(0,r.Z)(Et,[["render",Zt],["__scopeId","data-v-642d0e1e"]]);var Tt=Wt,Kt={name:"MoviesBoardView",components:{MovieCardsCarolsel:Tt},data(){return{nowShowingMovies:[],comingSoonMovies:[]}},props:{movie:{}},mounted(){this.getNowShowingMoviesApi(),this.getComingSoonMoviesApi()},methods:{async getNowShowingMoviesApi(){this.nowShowingMovies=await this.$store.dispatch("getAPI",{endPointURL:"/discover/movie",params:"sort_by=popularity.desc"})},async getComingSoonMoviesApi(){this.comingSoonMovies=await this.$store.dispatch("getAPI",{endPointURL:"/discover/movie",params:"primary_release_date.gte=2023-06-01"})}}};const Rt=(0,r.Z)(Kt,[["render",$t]]);var Gt=Rt,Jt=s(65),Qt=s(70),Xt=(0,Jt.MT)({state:{account:"",baseImgPath:"https://image.tmdb.org/t/p/w500",accountFavoriteMovies:[]},getters:{},mutations:{setAccount(e,t){e.account=t},setAccountFavoriteMovies(e,t){e.accountFavoriteMovies=t}},actions:{getAPI(e,t){const{endPointURL:s,params:o}=t,i="4c23b7c5b770be132a4c04fcca54c52e";let a="https://api.themoviedb.org/3";return a=s.includes("discover")?a.concat(`${s}?${o}&api_key=${i}`):a.concat(`${s}?api_key=${i}`),Qt.ZP.get(a).then((e=>e.data?.results??e.data)).catch((e=>{console.log(e)}))},getFavoriteMovies(e){const t=X.collection("FavoriteMovies").doc(e.state.account);return t.get().then((t=>t.exists?(e.commit("setAccountFavoriteMovies",t.data().movies),t.data().movies):(e.commit("setAccountFavoriteMovies",[]),[]))).catch((e=>{console.log(e)}))}},modules:{}});const es=[{path:"/login",name:"login",component:De},{path:"/mainPage",name:"mainPage",component:z,children:[{path:"",name:"mainPage",redirect:{name:"moviesBoard"}},{path:"moviesBoard",name:"moviesBoard",component:Gt},{path:"movieDetail",name:"movieDetail",component:kt}]},{path:"/favoriteMovies",name:"favoriteMovies",component:oe},{path:"/",redirect:{name:"login"}},{path:"/:catchAll(.*)",redirect:{name:"moviesBoard"},hidden:!0}],ts=(0,d.p7)({history:(0,d.PO)("/movie-app/"),routes:es});ts.beforeEach(((e,t,s)=>{const o=!!Xt.state.account;o&&"login"===e.name?M()("您已登入，幫您導回首頁","","error").then((()=>{s({name:"moviesBoard"})})):o||"login"===e.name?s():M()("請先登入","","error").then((()=>{s({name:"login"})}))}));var ss=ts,os=(s(7154),s(880)),is=s.n(os);(0,o.ri)(c).use(Xt).use(ss).use(is()).mount("#app")}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,function(){var e=[];s.O=function(t,o,i,a){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],a=e[d][2];for(var r=!0,l=0;l<o.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(r=!1,a<n&&(n=a));if(r){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/movie-app/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,n=o[0],r=o[1],l=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var d=l(s)}for(t&&t(o);c<n.length;c++)a=n[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},o=self["webpackChunkmovie_app"]=self["webpackChunkmovie_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(6850)}));o=s.O(o)})();
//# sourceMappingURL=app.6ad1925d.js.map